%dw 1.0
%output application/xml
---
MessageData: {


































		ControlData: {


































			InterfaceInstance:"IF138[ABC(CORP)-XYZ(" ++ payload.ApplicationData.ShipmentASN.@brwy_cd ++ ")]",

































			InterfaceRunMode: 'O',


































			InterfaceRunTimeStamp: now as :datetime {format : "MM-dd-yyyy-hh:mm:ss"}  as :string {format: "MM-dd-yyyy-hh:mm:ss"},


































			OriginalRunId: "00000000",


































			RunParameter: '',









				BreweryCode:payload.ApplicationData.ShipmentASN.@brwy_cd,
























			FillerSpace27: ''


































		},



		ApplicationData: {



			(payload.ApplicationData.*ShipmentASN default [] map ((shipmentASN , indexOfShipmentASN) -> {



				ShipmentASN @(brwy_cd: payload.ApplicationData.ShipmentASN.@brwy_cd , Wholesaler: payload.ApplicationData.ShipmentASN.@Wholesaler , LoadTenderID: payload.ApplicationData.ShipmentASN.@LoadTenderID , CustomerNumber: payload.ApplicationData.ShipmentASN.@CustomerNumber , BOLNumber: payload.ApplicationData.ShipmentASN.@BOLNumber , TrailerNumber: payload.ApplicationData.ShipmentASN.@TrailerNumber , ASNTSP: payload.ApplicationData.ShipmentASN.@ASNTSP ,
			PickupScheduledTSP: payload.ApplicationData.ShipmentASN.@PickupScheduledTSP , ShipMode: payload.ApplicationData.ShipmentASN.@ShipMode , BRAuthorizationNumber: payload.ApplicationData.ShipmentASN.@BRAuthorizationNumber , CarrierCode: payload.ApplicationData.ShipmentASN.@CarrierCode , ExpectedArrivalTSP: payload.ApplicationData.ShipmentASN.@ExpectedArrivalTSP , ActionCode: payload.ApplicationData.ShipmentASN.@ActionCode , LoadTenderStatus: payload.ApplicationData.ShipmentASN.@LoadTenderStatus
			, LoadTenderFlag: payload.ApplicationData.ShipmentASN.@LoadTenderFlag , TSPReceived: payload.ApplicationData.ShipmentASN.@TSPReceived , HotLoad: payload.ApplicationData.ShipmentASN.@HotLoad , TA997TSP: payload.ApplicationData.ShipmentASN.@TA997TSP , CarrierSchedPickupTSP: payload.ApplicationData.ShipmentASN.@CarrierSchedPickupTSP , CarrierWSLRPickupTSP: payload.ApplicationData.ShipmentASN.@CarrierWSLRPickupTSP , CarrierWSLRDepartTSP: payload.ApplicationData.ShipmentASN.@CarrierWSLRDepartTSP
			, CarrierActualArrivalTSP: payload.ApplicationData.ShipmentASN.@CarrierActualArrivalTSP , TAPartner: payload.ApplicationData.ShipmentASN.@TAPartner , MMO: payload.ApplicationData.ShipmentASN.@MMO , SMT: payload.ApplicationData.ShipmentASN.@SMT , EstimatedDeliveryTSP: payload.ApplicationData.ShipmentASN.@EstimatedDeliveryTSP , AvailableDate: payload.ApplicationData.ShipmentASN.@AvailableDate): {



					(shipmentASN.*ItemDetails map ((itemDetail , indexOfItemDetail) -> {



						ItemDetails @(ItemNumber: itemDetail.@ItemNumber , ItemQuantity: itemDetail.@ItemQuantity): itemDetail



					}))



				}



			}))



		}


}

